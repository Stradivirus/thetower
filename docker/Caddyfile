:80 {
    # :80 블록 하나만 유지하여, HTTPS 자동 리디렉션 및 인증서 발급 시도를 방지합니다.

    handle /api/* {
        reverse_proxy backend:8000
    }

    handle {
        root * /usr/share/caddy/html
        try_files {path} /index.html
        file_server

        header {
            Cache-Control "public, max-age=86400"
        }
    }
}